@model Clima.Models.PevisaoClima

@{
    ViewBag.Title = "Início";
}

<div class="jumbotron">
    <h2>Clima tempo simples</h2>
</div>

<div class="row">
    <div class="col-md-6">
        <h2>Cidades mais quentes hoje</h2>
        <p>
            @Html.Raw(ViewBag.GridViewStringMax)
        </p>

    </div>

        <div class="col-md-6">
            <h2>Cidades mais frias hoje</h2>
            <p>
                @Html.Raw(ViewBag.GridViewStringMin)
            </p>
        </div>
</div>
@using (Html.BeginForm("Index", "", FormMethod.Post, new { id = "demoForm", name = "demoForm" }))
{
<div class="row">
    <div class="form-group">
        @Html.LabelFor(model => model.CidadeId, "Cidade", htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.DropDownList("CidadeId", null, htmlAttributes: new { @class = "form-control", onchange = "SelectedIndexChanged()" })
            @Html.ValidationMessageFor(model => model.CidadeId, "", new { @class = "text-danger" })
        </div>
    </div>
    <span id="txtTitTempSemana" class="text-center">Clima para os próximos sete dias para a cidade selecionada.</span>
    <p>
        @Html.Raw(ViewBag.GridViewStringPrev)
    </p>

</div>
}
<script type="text/javascript">
    function SelectedIndexChanged() {
        //Form post
        document.demoForm.submit();
    }
</script> 